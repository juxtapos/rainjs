

<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>Dashboard Component Model &mdash; Rain 0.18.0 documentation</title>
    
    <link rel="stylesheet" href="../_static/default.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../',
        VERSION:     '0.18.0',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="../_static/jquery.js"></script>
    <script type="text/javascript" src="../_static/underscore.js"></script>
    <script type="text/javascript" src="../_static/doctools.js"></script>
    <link rel="top" title="Rain 0.18.0 documentation" href="../index.html" />
    <link rel="next" title="Automatic Deployment" href="Features-proposal-deployment.html" />
    <link rel="prev" title="CSS Transformation" href="Features-proposal-css-transformation.html" /> 
  </head>
  <body>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="Features-proposal-deployment.html" title="Automatic Deployment"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="Features-proposal-css-transformation.html" title="CSS Transformation"
             accesskey="P">previous</a> |</li>
        <li><a href="../index.html">Rain 0.18.0 documentation</a> &raquo;</li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body">
            
  <div class="section" id="dashboard-component-model">
<h1>Dashboard Component Model<a class="headerlink" href="#dashboard-component-model" title="Permalink to this headline">¶</a></h1>
<p>This document describes how a <em>dashboard</em> component should be defined and implemented in order to use it for dynamic aggregation of <em>widgets</em>.</p>
<p>A <em>widget</em> is a component that may supply, if needed, methods for publishing and accepting configuration parameters. Each widget should supply a <em>refresh</em> method that is called by the dashboard when the widget is moved or its parent size is manually changed.</p>
<p>The dashboard uses layouts and widgets that are dynamically obtained and allows the creation of a <em>master component</em>. The master component must be able to save its configuration.</p>
<div class="section" id="functional-requirements">
<h2>Functional requirements<a class="headerlink" href="#functional-requirements" title="Permalink to this headline">¶</a></h2>
<ol class="arabic simple">
<li>The dashboard should be able to accept configuration parameters (e.g. country, widget filters).</li>
<li>The dashboard should use server-side messaging to obtain the list of available widgets.</li>
<li>The dashboard should use server-side messaging to obtain the list of available layouts.</li>
<li>The dashboard layouts must provide html markup that contains placeholder information. The placeholders are used to identify where a widget can be inserted. Each placeholder element can contain one or more widgets.</li>
<li>A widget must export a list of parameters needed for its configuration.</li>
<li>If a widget has at least one parameter that needs to be configured, when adding it, the dashboard must render a configuration view for the widget. The configuration view must display the configuration parameters and supply a <em>save</em> method. When saved, the dashboard will display the rendered view.</li>
<li>When changing the layout the widgets should be moved automatically to the new possible placeholders, with their configuration.</li>
</ol>
</div>
<div class="section" id="layouts">
<h2>Layouts<a class="headerlink" href="#layouts" title="Permalink to this headline">¶</a></h2>
<p>A <em>layout</em> is an html file that should be automatically detected. It supplies placeholders to inform where the widgets can be placed. The layouts should behave the same way independent of the screen size.</p>
<div class="highlight-html"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28</pre></div></td><td class="code"><div class="highlight"><pre><span class="nt">&lt;div</span> <span class="na">class=</span><span class="s">&quot;layout yui-skin-sam&quot;</span><span class="nt">&gt;</span>
    <span class="nt">&lt;div</span> <span class="na">id=</span><span class="s">&quot;doc3&quot;</span> <span class="na">class=</span><span class="s">&quot;yui-t7&quot;</span><span class="nt">&gt;</span>
        <span class="nt">&lt;div</span> <span class="na">id=</span><span class="s">&quot;bd&quot;</span><span class="nt">&gt;</span>
            <span class="nt">&lt;div</span> <span class="na">class=</span><span class="s">&quot;yui-gc&quot;</span><span class="nt">&gt;</span>
                <span class="nt">&lt;div</span> <span class="na">class=</span><span class="s">&quot;yui-u first&quot;</span><span class="nt">&gt;</span>
                   <span class="nt">&lt;div</span> <span class="na">id=</span><span class="s">&quot;p1&quot;</span> <span class="na">class=</span><span class="s">&quot;widgetplaceholder&quot;</span><span class="nt">&gt;</span>Row 1 Column 1<span class="nt">&lt;/div&gt;</span>
                <span class="nt">&lt;/div&gt;</span>
                <span class="nt">&lt;div</span> <span class="na">class=</span><span class="s">&quot;yui-u&quot;</span><span class="nt">&gt;</span>
                   <span class="nt">&lt;div</span> <span class="na">id=</span><span class="s">&quot;p2&quot;</span> <span class="na">class=</span><span class="s">&quot;widgetplaceholder&quot;</span><span class="nt">&gt;</span>Row 1 Column 2<span class="nt">&lt;/div&gt;</span>
                <span class="nt">&lt;/div&gt;</span>
            <span class="nt">&lt;/div&gt;</span>
            <span class="nt">&lt;div</span> <span class="na">class=</span><span class="s">&quot;yui-g&quot;</span><span class="nt">&gt;</span>
                <span class="nt">&lt;div</span> <span class="na">id=</span><span class="s">&quot;p3&quot;</span> <span class="na">class=</span><span class="s">&quot;widgetplaceholder&quot;</span><span class="nt">&gt;</span>Row 2 Column 1<span class="nt">&lt;/div&gt;</span>
            <span class="nt">&lt;/div&gt;</span>
            <span class="nt">&lt;div</span> <span class="na">class=</span><span class="s">&quot;yui-gb&quot;</span><span class="nt">&gt;</span>
                <span class="nt">&lt;div</span> <span class="na">class=</span><span class="s">&quot;yui-u first&quot;</span><span class="nt">&gt;</span>
                    <span class="nt">&lt;div</span> <span class="na">id=</span><span class="s">&quot;p4&quot;</span> <span class="na">class=</span><span class="s">&quot;widgetplaceholder&quot;</span><span class="nt">&gt;</span>Row 3 Column 1<span class="nt">&lt;/div&gt;</span>
                <span class="nt">&lt;/div&gt;</span>
                <span class="nt">&lt;div</span> <span class="na">class=</span><span class="s">&quot;yui-u&quot;</span><span class="nt">&gt;</span>
                    <span class="nt">&lt;div</span> <span class="na">id=</span><span class="s">&quot;p5&quot;</span> <span class="na">class=</span><span class="s">&quot;widgetplaceholder&quot;</span><span class="nt">&gt;</span>Row 3 Column 2<span class="nt">&lt;/div&gt;</span>
                <span class="nt">&lt;/div&gt;</span>
                <span class="nt">&lt;div</span> <span class="na">class=</span><span class="s">&quot;yui-u&quot;</span><span class="nt">&gt;</span>
                    <span class="nt">&lt;div</span> <span class="na">id=</span><span class="s">&quot;p6&quot;</span> <span class="na">class=</span><span class="s">&quot;widgetplaceholder&quot;</span><span class="nt">&gt;</span>Row 3 Column 3<span class="nt">&lt;/div&gt;</span>
                <span class="nt">&lt;/div&gt;</span>
            <span class="nt">&lt;/div&gt;</span>
        <span class="nt">&lt;/div&gt;</span>
    <span class="nt">&lt;/div&gt;</span>
<span class="nt">&lt;/div&gt;</span>
</pre></div>
</td></tr></table></div>
<p>In the previous example we have a custom layout that has 3 rows: the first row has 2 columns, the second has 1 column and the third has 3 columns. The placeholders are identified by the <em>widgetplaceholder</em> class. Each placeholder has an id that is used when remembering where a widget is located. When the user adds two widgets to the same placeholder they should be place one above the other.</p>
<p>The user should be able to switch between available layouts. The widgets already added will be moved automatically to the placeholder with the same id. If the old placeholder is not present in the new layout, the first available layout will be used.</p>
</div>
<div class="section" id="apis">
<h2>APIs<a class="headerlink" href="#apis" title="Permalink to this headline">¶</a></h2>
<p>Each widget should supply the following methods:</p>
<ol class="arabic">
<li><dl class="first docutils">
<dt>configuration() - returns a JSON object with information about its configuration parameters.</dt>
<dd><div class="first highlight-html"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14</pre></div></td><td class="code"><div class="highlight"><pre>[
  {
    &quot;name&quot;: &quot;min&quot;,
    &quot;type&quot;: &quot;number&quot;,
    &quot;text&quot;: &quot;Min value&quot;,
    &quot;defaultValue&quot;: 10
  },
  {
    &quot;name&quot;: &quot;max&quot;,
    &quot;type&quot;: &quot;number&quot;,
    &quot;text&quot;: &quot;Max value&quot;,
    &quot;defaultValue&quot;: 100
  }
]
</pre></div>
</td></tr></table></div>
<p class="last">This JSON defines two parameters: <em>min</em> and <em>max</em>, that are numbers and have different default values. The <em>text</em> field is used when generating the configuration view.</p>
</dd>
</dl>
</li>
<li><p class="first">configure(options) - configures the widget. The <em>options</em> parameter is a JSON object. e.g.: {&#8220;min&#8221;: 10, &#8220;max&#8221;: 100}.</p>
</li>
<li><p class="first">refresh() - refreshes the widget.</p>
</li>
</ol>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar">
        <div class="sphinxsidebarwrapper">
  <h3><a href="../index.html">Table Of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">Dashboard Component Model</a><ul>
<li><a class="reference internal" href="#functional-requirements">Functional requirements</a></li>
<li><a class="reference internal" href="#layouts">Layouts</a></li>
<li><a class="reference internal" href="#apis">APIs</a></li>
</ul>
</li>
</ul>

  <h4>Previous topic</h4>
  <p class="topless"><a href="Features-proposal-css-transformation.html"
                        title="previous chapter">CSS Transformation</a></p>
  <h4>Next topic</h4>
  <p class="topless"><a href="Features-proposal-deployment.html"
                        title="next chapter">Automatic Deployment</a></p>
<div id="searchbox" style="display: none">
  <h3>Quick search</h3>
    <form class="search" action="../search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    <p class="searchtip" style="font-size: 90%">
    Enter search terms or a module, class or function name.
    </p>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="Features-proposal-deployment.html" title="Automatic Deployment"
             >next</a> |</li>
        <li class="right" >
          <a href="Features-proposal-css-transformation.html" title="CSS Transformation"
             >previous</a> |</li>
        <li><a href="../index.html">Rain 0.18.0 documentation</a> &raquo;</li> 
      </ul>
    </div>
    <div class="footer">
      Created using <a href="http://sphinx.pocoo.org/">Sphinx</a> 1.1.3.
    </div>
  </body>
</html>