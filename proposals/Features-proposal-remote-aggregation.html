

<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>Remote aggregation &mdash; Rain 0.18.0 documentation</title>
    
    <link rel="stylesheet" href="../_static/default.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../',
        VERSION:     '0.18.0',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="../_static/jquery.js"></script>
    <script type="text/javascript" src="../_static/underscore.js"></script>
    <script type="text/javascript" src="../_static/doctools.js"></script>
    <link rel="top" title="Rain 0.18.0 documentation" href="../index.html" />
    <link rel="next" title="Rendering Process" href="Features-proposal-rendering-layer.html" />
    <link rel="prev" title="RAIN Cloud In Action" href="Features-proposal-rain-cloud-action.html" /> 
  </head>
  <body>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="Features-proposal-rendering-layer.html" title="Rendering Process"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="Features-proposal-rain-cloud-action.html" title="RAIN Cloud In Action"
             accesskey="P">previous</a> |</li>
        <li><a href="../index.html">Rain 0.18.0 documentation</a> &raquo;</li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body">
            
  <div class="section" id="remote-aggregation">
<h1>Remote aggregation<a class="headerlink" href="#remote-aggregation" title="Permalink to this headline">¶</a></h1>
<p>Remote aggregation is one major goal of RAIN. The simplified explanation is we want to allow users to write and hold applications / pages without software constraints. For instance we want to avoid cases were we tell developers: use wicket because RAIN can not use something else.</p>
<div class="section" id="vision">
<h2>Vision<a class="headerlink" href="#vision" title="Permalink to this headline">¶</a></h2>
<p>Following RAIN guidelines, we want to be able to render remote markup fragments.</p>
</div>
<div class="section" id="architecture">
<h2>Architecture<a class="headerlink" href="#architecture" title="Permalink to this headline">¶</a></h2>
<div class="section" id="overview">
<h3>Overview<a class="headerlink" href="#overview" title="Permalink to this headline">¶</a></h3>
<img alt="../_images/remoting_architecture.jpeg" src="../_images/remoting_architecture.jpeg" />
<p>In the above diagram you can see how remote fragments will be aggregated by RAIN.</p>
</div>
<div class="section" id="functional-requirements">
<h3>Functional requirements<a class="headerlink" href="#functional-requirements" title="Permalink to this headline">¶</a></h3>
<ol class="arabic simple">
<li>RAIN must keep track of remote fragments session.</li>
<li>RAIN must send aggregated page parameters to each remote fragment.</li>
<li>RAIN must provide components that generates compatible markup.</li>
</ol>
</div>
<div class="section" id="assumptions">
<h3>Assumptions<a class="headerlink" href="#assumptions" title="Permalink to this headline">¶</a></h3>
<ol class="arabic simple">
<li>RAIN will support remote fragments session for: JSP, Wicket, Spring MVC and PHP. (It might be possible to support some other technologies / frameworks in the future).</li>
<li>RAIN remote fragments session are not shared. It means that a remote fragment session will not be able to access another remote fragment session.</li>
</ol>
</div>
<div class="section" id="aggregation-case-sample">
<h3>Aggregation case sample<a class="headerlink" href="#aggregation-case-sample" title="Permalink to this headline">¶</a></h3>
<img alt="../_images/case_sample_remote_aggregation.jpeg" src="../_images/case_sample_remote_aggregation.jpeg" />
</div>
<div class="section" id="aggregation-sequence">
<h3>Aggregation sequence<a class="headerlink" href="#aggregation-sequence" title="Permalink to this headline">¶</a></h3>
<img alt="../_images/sd_remote_fragments.jpeg" src="../_images/sd_remote_fragments.jpeg" />
<p>In the above diagram you can see how a requests to a page that contains remote fragments is solved by RAIN. For the first request remote server holding the fragment will create a new session. The session id will be pushed back to the RAIN server along with the fragment generated markup.</p>
<p>For ulterior requests, the session id for the same remote fragment will be sent to the remote server.</p>
<p>On the RAIN server there will be an association between RAIN remote module and session id. This information will live within RAIN session. Fragments sessions are hidden from client side code executed within client browser.</p>
</div>
</div>
<div class="section" id="special-cautions">
<h2>Special cautions<a class="headerlink" href="#special-cautions" title="Permalink to this headline">¶</a></h2>
<p>Because RAIN is intended to support remote fragments there are several points in which things go wrong. Below you can find a list of common exceptions we want to handle:</p>
<div class="section" id="exceptions">
<h3>Exceptions<a class="headerlink" href="#exceptions" title="Permalink to this headline">¶</a></h3>
<ol class="arabic simple">
<li>A remote fragment can not be rendered at all.<ol class="arabic">
<li>Remote server is not available.</li>
<li>Remote server responds really slow.</li>
</ol>
</li>
<li>Remote server responds with 401 error code.</li>
<li>Remote server responds with 403 error code.</li>
<li>Remote server responds with some other HTTP error code.</li>
<li>Fragments might define the same css classes in markup thus resulting a name clash.</li>
<li>Fragments might define the same javascript functions in global space thus resulting a name clash.</li>
</ol>
</div>
<div class="section" id="special-cases">
<h3>Special cases<a class="headerlink" href="#special-cases" title="Permalink to this headline">¶</a></h3>
<ol class="arabic simple">
<li>Fragments provide their own urls within markup.</li>
<li>Fragments use form submit mechanism provided by html.</li>
</ol>
</div>
<div class="section" id="possible-solutions">
<h3>Possible solutions<a class="headerlink" href="#possible-solutions" title="Permalink to this headline">¶</a></h3>
<table border="1" class="docutils">
<colgroup>
<col width="46%" />
<col width="54%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Exception</th>
<th class="head">Possible solution</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>Remote server is not available.</td>
<td>A default image will be displayed to indicate something is not available.</td>
</tr>
<tr class="row-odd"><td>Remote server responds really slow.</td>
<td>RAIN is processing each fragment in parallel. If the processing of a
fragment will not end in a timely manner (&amp;lt; 300ms for instance) RAIN
will automatically stop the process and it will display a predefined
image instead.</td>
</tr>
<tr class="row-even"><td>Remote server responds with 401 / 403 / other HTTP error code.</td>
<td>RAIN might display a predefined image for this instead of the fragment.</td>
</tr>
<tr class="row-odd"><td>Fragments might define the same css classes in markup thus
resulting a name clash.</td>
<td>This is solved automatically by RAIN.</td>
</tr>
<tr class="row-even"><td>Fragments might define the same javascript functions in
global space thus resulting a name clash.</td>
<td>This should not be the case because all fragments should write
javascript using requirejs.</td>
</tr>
</tbody>
</table>
</div>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar">
        <div class="sphinxsidebarwrapper">
  <h3><a href="../index.html">Table Of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">Remote aggregation</a><ul>
<li><a class="reference internal" href="#vision">Vision</a></li>
<li><a class="reference internal" href="#architecture">Architecture</a><ul>
<li><a class="reference internal" href="#overview">Overview</a></li>
<li><a class="reference internal" href="#functional-requirements">Functional requirements</a></li>
<li><a class="reference internal" href="#assumptions">Assumptions</a></li>
<li><a class="reference internal" href="#aggregation-case-sample">Aggregation case sample</a></li>
<li><a class="reference internal" href="#aggregation-sequence">Aggregation sequence</a></li>
</ul>
</li>
<li><a class="reference internal" href="#special-cautions">Special cautions</a><ul>
<li><a class="reference internal" href="#exceptions">Exceptions</a></li>
<li><a class="reference internal" href="#special-cases">Special cases</a></li>
<li><a class="reference internal" href="#possible-solutions">Possible solutions</a></li>
</ul>
</li>
</ul>
</li>
</ul>

  <h4>Previous topic</h4>
  <p class="topless"><a href="Features-proposal-rain-cloud-action.html"
                        title="previous chapter">RAIN Cloud In Action</a></p>
  <h4>Next topic</h4>
  <p class="topless"><a href="Features-proposal-rendering-layer.html"
                        title="next chapter">Rendering Process</a></p>
<div id="searchbox" style="display: none">
  <h3>Quick search</h3>
    <form class="search" action="../search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    <p class="searchtip" style="font-size: 90%">
    Enter search terms or a module, class or function name.
    </p>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="Features-proposal-rendering-layer.html" title="Rendering Process"
             >next</a> |</li>
        <li class="right" >
          <a href="Features-proposal-rain-cloud-action.html" title="RAIN Cloud In Action"
             >previous</a> |</li>
        <li><a href="../index.html">Rain 0.18.0 documentation</a> &raquo;</li> 
      </ul>
    </div>
    <div class="footer">
      Created using <a href="http://sphinx.pocoo.org/">Sphinx</a> 1.1.3.
    </div>
  </body>
</html>