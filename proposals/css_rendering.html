

<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>CSS Rendering &mdash; Rain 0.18.0 documentation</title>
    
    <link rel="stylesheet" href="../_static/default.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../',
        VERSION:     '0.18.0',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="../_static/jquery.js"></script>
    <script type="text/javascript" src="../_static/underscore.js"></script>
    <script type="text/javascript" src="../_static/doctools.js"></script>
    <link rel="top" title="Rain 0.18.0 documentation" href="../index.html" />
    <link rel="next" title="Distributed Rendering" href="distributed_rendering.html" />
    <link rel="prev" title="Code Coverage" href="code_coverage.html" /> 
  </head>
  <body>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="distributed_rendering.html" title="Distributed Rendering"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="code_coverage.html" title="Code Coverage"
             accesskey="P">previous</a> |</li>
        <li><a href="../index.html">Rain 0.18.0 documentation</a> &raquo;</li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body">
            
  <div class="section" id="css-rendering">
<h1>CSS Rendering<a class="headerlink" href="#css-rendering" title="Permalink to this headline">¶</a></h1>
<p>This document describes how RAIN should handle the rendering of CSS files.</p>
<div class="section" id="server-side-handling">
<h2>Server side handling<a class="headerlink" href="#server-side-handling" title="Permalink to this headline">¶</a></h2>
<p>When a component registers a CSS file for rendering it should be sent to the client as part of the
<tt class="docutils literal"><span class="pre">css</span></tt> key of the <tt class="docutils literal"><span class="pre">render</span></tt> packet. The server should also send along the number of rules inside
of the CSS file, which should be precomputed at startup.</p>
</div>
<div class="section" id="client-side-handling">
<h2>Client side handling<a class="headerlink" href="#client-side-handling" title="Permalink to this headline">¶</a></h2>
<div class="section" id="adding-styles">
<h3>Adding styles<a class="headerlink" href="#adding-styles" title="Permalink to this headline">¶</a></h3>
<p>Upon receiving a CSS file path the client rendering engine requests that file through an AJAX
request and then places the content inside of a <tt class="docutils literal"><span class="pre">&lt;style&gt;</span></tt> tag in the <tt class="docutils literal"><span class="pre">&lt;head&gt;</span></tt> section of the
page.</p>
<p>A style tag must never have more than <strong>4095</strong> CSS rules inside of it. In case of a total number
greater than <strong>4095</strong> the render should look for a <tt class="docutils literal"><span class="pre">&lt;style&gt;</span></tt> tag with enough room to add the
content, and if there isn&#8217;t any then create a new one.</p>
<p>When creating stylesheets the client renderer should also make sure not to add more than <strong>31</strong>
styles to the page and in case that happens it should log an error and in case the browser is IE9
or less discard the content of the file.</p>
</div>
<div class="section" id="removing-styles">
<h3>Removing styles<a class="headerlink" href="#removing-styles" title="Permalink to this headline">¶</a></h3>
<p>When a component is destroyed it should trigger a remove operation on all the stylesheets attached
to it that notifies the client renderer that it has been destroyed. The client renderer then
proceeds to identify the rules belonging to that specific component and removes them from the
<tt class="docutils literal"><span class="pre">&lt;style&gt;</span></tt> tag.</p>
<p>If the removal would result in the style having <strong>0</strong> rules in it, the whole style should be
removed as opposed to only the content.</p>
</div>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar">
        <div class="sphinxsidebarwrapper">
  <h3><a href="../index.html">Table Of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">CSS Rendering</a><ul>
<li><a class="reference internal" href="#server-side-handling">Server side handling</a></li>
<li><a class="reference internal" href="#client-side-handling">Client side handling</a><ul>
<li><a class="reference internal" href="#adding-styles">Adding styles</a></li>
<li><a class="reference internal" href="#removing-styles">Removing styles</a></li>
</ul>
</li>
</ul>
</li>
</ul>

  <h4>Previous topic</h4>
  <p class="topless"><a href="code_coverage.html"
                        title="previous chapter">Code Coverage</a></p>
  <h4>Next topic</h4>
  <p class="topless"><a href="distributed_rendering.html"
                        title="next chapter">Distributed Rendering</a></p>
<div id="searchbox" style="display: none">
  <h3>Quick search</h3>
    <form class="search" action="../search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    <p class="searchtip" style="font-size: 90%">
    Enter search terms or a module, class or function name.
    </p>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="distributed_rendering.html" title="Distributed Rendering"
             >next</a> |</li>
        <li class="right" >
          <a href="code_coverage.html" title="Code Coverage"
             >previous</a> |</li>
        <li><a href="../index.html">Rain 0.18.0 documentation</a> &raquo;</li> 
      </ul>
    </div>
    <div class="footer">
      Created using <a href="http://sphinx.pocoo.org/">Sphinx</a> 1.1.3.
    </div>
  </body>
</html>