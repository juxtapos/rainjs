

<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>Component Versioning &mdash; Rain 0.18.0 documentation</title>
    
    <link rel="stylesheet" href="../_static/default.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../',
        VERSION:     '0.18.0',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="../_static/jquery.js"></script>
    <script type="text/javascript" src="../_static/underscore.js"></script>
    <script type="text/javascript" src="../_static/doctools.js"></script>
    <link rel="top" title="Rain 0.18.0 documentation" href="../index.html" />
    <link rel="next" title="Component Helper" href="handlebars/component_helper.html" />
    <link rel="prev" title="RAIN component descriptor" href="component_descriptor.html" /> 
  </head>
  <body>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="handlebars/component_helper.html" title="Component Helper"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="component_descriptor.html" title="RAIN component descriptor"
             accesskey="P">previous</a> |</li>
        <li><a href="../index.html">Rain 0.18.0 documentation</a> &raquo;</li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body">
            
  <div class="section" id="component-versioning">
<h1>Component Versioning<a class="headerlink" href="#component-versioning" title="Permalink to this headline">¶</a></h1>
<div class="section" id="introduction">
<h2>Introduction<a class="headerlink" href="#introduction" title="Permalink to this headline">¶</a></h2>
<p>RAIN&#8217;s <em>raison d&#8217;être</em> is to aggregate loosely coupled components. Supporting complete integration
scenarios demands from RAIN that it provides support for full component versioning. RAIN can
register the same component multiple times with different versions such that dependency
constraints are correctly fulfilled.</p>
<p>Understanding RAIN&#8217;s versioning semantics is important because when interacting with RAIN&#8217;s
interfaces and templates the issue plays a central role.</p>
</div>
<div class="section" id="describing-versions">
<h2>Describing versions<a class="headerlink" href="#describing-versions" title="Permalink to this headline">¶</a></h2>
<p>It all begins in the component&#8217;s <tt class="docutils literal"><span class="pre">meta.json</span></tt> descriptor file. Consider the two following
components that register two versions for the same component id:</p>
<p><tt class="docutils literal"><span class="pre">/components/nasa-missions-apollo-11/meta.json</span></tt></p>
<div class="highlight-javascript"><div class="highlight"><pre><span class="p">{</span>
    <span class="s2">&quot;id&quot;</span><span class="o">:</span> <span class="s2">&quot;apollo&quot;</span><span class="p">,</span>
    <span class="s2">&quot;version&quot;</span><span class="o">:</span> <span class="s2">&quot;11.0&quot;</span><span class="p">,</span>
    <span class="s2">&quot;views&quot;</span><span class="o">:</span> <span class="p">{</span>
        <span class="s2">&quot;eagle&quot;</span><span class="o">:</span> <span class="p">{</span>
            <span class="s2">&quot;view&quot;</span><span class="o">:</span> <span class="s2">&quot;eagle.html&quot;</span><span class="p">,</span>
            <span class="s2">&quot;controller&quot;</span><span class="o">:</span> <span class="p">{</span>
                <span class="s2">&quot;client&quot;</span><span class="o">:</span> <span class="s2">&quot;eagle.js&quot;</span>
            <span class="p">}</span>
        <span class="p">}</span>
    <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
<p><tt class="docutils literal"><span class="pre">/components/nasa-missions-apollo-13/meta.json</span></tt></p>
<div class="highlight-javascript"><div class="highlight"><pre><span class="p">{</span>
    <span class="s2">&quot;id&quot;</span><span class="o">:</span> <span class="s2">&quot;apollo&quot;</span><span class="p">,</span>
    <span class="s2">&quot;version&quot;</span><span class="o">:</span> <span class="s2">&quot;13.0&quot;</span><span class="p">,</span>
    <span class="s2">&quot;views&quot;</span><span class="o">:</span> <span class="p">{</span>
        <span class="s2">&quot;aquarius&quot;</span><span class="o">:</span> <span class="p">{</span>
            <span class="s2">&quot;view&quot;</span><span class="o">:</span> <span class="s2">&quot;aquarius.html&quot;</span><span class="p">,</span>
            <span class="s2">&quot;controller&quot;</span><span class="o">:</span> <span class="p">{</span>
                <span class="s2">&quot;client&quot;</span><span class="o">:</span> <span class="s2">&quot;aquarius.js&quot;</span>
            <span class="p">}</span>
        <span class="p">}</span>
    <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">RAIN uses a 3 part versioning scheme, composed of the triplet of (<strong>major</strong>, <strong>minor</strong>,
<strong>micro?</strong>) numbers. The major and minor version numbers are <strong>mandatory</strong>, the micro version
number is optional, but also more than 3 version parts is not valid.</p>
</div>
</div>
<div class="section" id="version-matching">
<h2>Version matching<a class="headerlink" href="#version-matching" title="Permalink to this headline">¶</a></h2>
<p>Referencing components in view templates and when using RAIN&#8217;s interfaces requires specifying the
pair (<tt class="docutils literal"><span class="pre">id</span></tt>, <tt class="docutils literal"><span class="pre">version</span></tt>) for the cases when it is not obvious what component is being referenced.
RAIN allows developers to use version <strong>fragments</strong> which are resolved to the closest match found in
the component registry. By definition, a fragment is part of a version, containing at least the major
version and at most the full version triplet, in which case the fragment is itself a full version.</p>
<p>Version matching is done by comparing a fragment against the registered versions for a component.
Considering every part present in the fragment as being a constraint, RAIN tries to match the latest
possible version. Some examples are presented next for clarification:</p>
<ul class="simple">
<li>Searching for the version fragment <tt class="docutils literal"><span class="pre">1.3</span></tt> in a component&#8217;s list of [<tt class="docutils literal"><span class="pre">1.2</span></tt>, <tt class="docutils literal"><span class="pre">1.3.1</span></tt>,
<tt class="docutils literal"><span class="pre">1.3.5</span></tt>, <tt class="docutils literal"><span class="pre">2.0</span></tt>] version list, will match version <tt class="docutils literal"><span class="pre">1.3.5</span></tt> since that is the latest version
that matches given the constraints for major version to be <tt class="docutils literal"><span class="pre">1</span></tt> and minor version to be <tt class="docutils literal"><span class="pre">3</span></tt>.</li>
<li>Searching for the version fragment <tt class="docutils literal"><span class="pre">2</span></tt> in a component&#8217;s list of [<tt class="docutils literal"><span class="pre">1.5.14</span></tt>, <tt class="docutils literal"><span class="pre">2.0</span></tt>, <tt class="docutils literal"><span class="pre">2.1</span></tt>]
version list will match version <tt class="docutils literal"><span class="pre">2.1</span></tt>.</li>
<li>Searching for the version fragment <tt class="docutils literal"><span class="pre">1.5.2</span></tt> in a component&#8217;s list of [<tt class="docutils literal"><span class="pre">1.5</span></tt>, <tt class="docutils literal"><span class="pre">1.5.2</span></tt>,
<tt class="docutils literal"><span class="pre">1.5.3</span></tt>] will match version <tt class="docutils literal"><span class="pre">1.5.2</span></tt>, of course.</li>
<li>Searching for the version format <tt class="docutils literal"><span class="pre">2.4</span></tt> in a component&#8217;s list of [<tt class="docutils literal"><span class="pre">1.3</span></tt>, <tt class="docutils literal"><span class="pre">2.1</span></tt>, <tt class="docutils literal"><span class="pre">3.5</span></tt>]
version list will <strong>not</strong> match any version.</li>
</ul>
<div class="admonition-see-also admonition seealso">
<p class="first admonition-title">See also</p>
<dl class="last docutils">
<dt><a class="reference internal" href="handlebars/component_helper.html#handlebars-component-helper-usage"><em>Component helper usage</em></a></dt>
<dd>How to specify versions when aggregating components in a view template</dd>
<dt><a class="reference internal" href="handlebars/css_helper.html#handlebars-css-helper-usage"><em>CSS helper usage</em></a></dt>
<dd>How to specify versions when aggregating CSS files in a view template</dd>
</dl>
</div>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar">
        <div class="sphinxsidebarwrapper">
  <h3><a href="../index.html">Table Of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">Component Versioning</a><ul>
<li><a class="reference internal" href="#introduction">Introduction</a></li>
<li><a class="reference internal" href="#describing-versions">Describing versions</a></li>
<li><a class="reference internal" href="#version-matching">Version matching</a></li>
</ul>
</li>
</ul>

  <h4>Previous topic</h4>
  <p class="topless"><a href="component_descriptor.html"
                        title="previous chapter">RAIN component descriptor</a></p>
  <h4>Next topic</h4>
  <p class="topless"><a href="handlebars/component_helper.html"
                        title="next chapter">Component Helper</a></p>
<div id="searchbox" style="display: none">
  <h3>Quick search</h3>
    <form class="search" action="../search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    <p class="searchtip" style="font-size: 90%">
    Enter search terms or a module, class or function name.
    </p>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="handlebars/component_helper.html" title="Component Helper"
             >next</a> |</li>
        <li class="right" >
          <a href="component_descriptor.html" title="RAIN component descriptor"
             >previous</a> |</li>
        <li><a href="../index.html">Rain 0.18.0 documentation</a> &raquo;</li> 
      </ul>
    </div>
    <div class="footer">
      Created using <a href="http://sphinx.pocoo.org/">Sphinx</a> 1.1.3.
    </div>
  </body>
</html>