

<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>Logging guidelines &mdash; Rain 0.18.0 documentation</title>
    
    <link rel="stylesheet" href="../_static/default.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../',
        VERSION:     '0.18.0',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="../_static/jquery.js"></script>
    <script type="text/javascript" src="../_static/underscore.js"></script>
    <script type="text/javascript" src="../_static/doctools.js"></script>
    <link rel="top" title="Rain 0.18.0 documentation" href="../index.html" />
    <link rel="next" title="RAIN SDK Architecture" href="sdk_architecture.html" />
    <link rel="prev" title="RAIN Localization" href="localization.html" /> 
  </head>
  <body>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="sdk_architecture.html" title="RAIN SDK Architecture"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="localization.html" title="RAIN Localization"
             accesskey="P">previous</a> |</li>
        <li><a href="../index.html">Rain 0.18.0 documentation</a> &raquo;</li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body">
            
  <div class="section" id="logging-guidelines">
<h1>Logging guidelines<a class="headerlink" href="#logging-guidelines" title="Permalink to this headline">¶</a></h1>
<p>This document describes the logging guidelines that should be followed by developers working on the
RAIN project and could also be extended to other developers writing RAIN components for their own
projects.</p>
<p>These guidelines take into consideration the features provided by the logger implemented in RAIN as
a core functionality.</p>
<p>Logging is a fundamental part of any application. A well designed and maintained logging system
will help system administrators, developers and support teams to avoid spending valuable hours
investigating problems.</p>
<div class="section" id="logging-levels">
<h2>Logging levels<a class="headerlink" href="#logging-levels" title="Permalink to this headline">¶</a></h2>
<p>There are five logging levels, going from &#8220;something went terribly wrong&#8221; with the application to
statements meant to help the developer investigate problems. What you must remember is to put the
log statements in the appropriate category, otherwise something important will not be noticed or
you will fill the production logs with unwanted information that makes them harder to read.</p>
<p>The levels have an decreasing severity: <tt class="docutils literal"><span class="pre">fatal</span> <span class="pre">&gt;</span> <span class="pre">error</span> <span class="pre">&gt;</span> <span class="pre">warn</span> <span class="pre">&gt;</span> <span class="pre">info</span> <span class="pre">&gt;</span> <span class="pre">debug</span></tt>. If you set the
logging level to <tt class="docutils literal"><span class="pre">warn</span></tt> only <tt class="docutils literal"><span class="pre">warn</span></tt>, <tt class="docutils literal"><span class="pre">error</span></tt>, <tt class="docutils literal"><span class="pre">fatal</span></tt> messages will be appended to the
location.</p>
<div class="section" id="fatal">
<h3>Fatal<a class="headerlink" href="#fatal" title="Permalink to this headline">¶</a></h3>
<p>This is the worst case scenario. In RAIN it means you can&#8217;t recover from the error and you have to
restart the server. These errors have to be fixed very fast because they might make the server
unusable.</p>
<p>This logging level should not be used in RAIN components or by third party developers.</p>
<p>When to use:</p>
<ul class="simple">
<li>Listen to the <tt class="docutils literal"><span class="pre">uncaughtException</span></tt> event and log the server state before restarting it.</li>
<li>When the server configuration file has the wrong format or is missing vital information that
causes the server not to start.</li>
</ul>
</div>
<div class="section" id="error">
<h3>Error<a class="headerlink" href="#error" title="Permalink to this headline">¶</a></h3>
<p>This means that some unexpected behavior appeared in the application&#8217;s workflow. The server
still works but the error can cause unexpected behavior to the application&#8217;s functionality.</p>
<p>When to use:</p>
<ul class="simple">
<li>When a subcomponent cannot be found. This could mean the component wasn&#8217;t deployed or the exact
requested version was replaced by a newer version. Do not use it for the main component because
the user could have mistyped the address.</li>
<li>When a core backend service becomes unavailable, like an external service
or a database connection.</li>
<li>When some expected and required resources are missing.</li>
<li>When public API functions receive unexpected or malformed input parameters.</li>
</ul>
</div>
<div class="section" id="warn">
<h3>Warn<a class="headerlink" href="#warn" title="Permalink to this headline">¶</a></h3>
<p>This means something can cause strange application behavior but the application can recover from
this and deliver correct results. These messages have to be analyzed.</p>
<p>When to use:</p>
<ul class="simple">
<li>When you started the server in debug mode even if it&#8217;s a production server.</li>
<li>When you don&#8217;t have translation messages in the platform language for a specific component.</li>
<li>When configuration or input parameters are missing but you can determine default values for them.</li>
<li>When user input parameters might indicate security problems, like introducing the wrong password
multiple times.</li>
<li>When some core services are responding slowly.</li>
</ul>
</div>
<div class="section" id="info">
<h3>Info<a class="headerlink" href="#info" title="Permalink to this headline">¶</a></h3>
<p>This means the information is useful to the running and the management of the system. These
messages show that everything is working fine and gives information about the application&#8217;s state.</p>
<p>When to use:</p>
<ul class="simple">
<li>When logging information about server startup / shutdown, configuration assumptions.</li>
<li>When registering plugins or external dependencies to show that they loaded without problems.</li>
<li>When the server&#8217;s or component&#8217;s state changed or to show the lifecycle of different rendering
processes.</li>
</ul>
</div>
<div class="section" id="debug">
<h3>Debug<a class="headerlink" href="#debug" title="Permalink to this headline">¶</a></h3>
<p>This is helpful information used by developers / IT department / system administrator to identify
problems. It&#8217;s used primarily in the development stage. Be careful not to overdo it because you can
make the code harder to read.</p>
<p>When to use:</p>
<ul class="simple">
<li>When you want to log input parameters and return values for important functions.</li>
<li>When you want to log the headers or data for HTTP requests and responses.</li>
</ul>
</div>
</div>
<div class="section" id="what-to-log">
<h2>What to log<a class="headerlink" href="#what-to-log" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li>Log exceptions, but not all of them. Some exceptions can be managed and they are thrown to
simulate different functionality. Remember that it&#8217;s useless a log full of errors that don&#8217;t
actually describe a problem.</li>
<li>Log lifecycle events / states, they are very useful when trying to identify a problem.</li>
<li>Log request headers and data (useful in debug mode).</li>
<li>A log entry should answer the following questions:<ul>
<li><strong>who?</strong> - the application user name</li>
<li><strong>when?</strong> - the current timestamp</li>
<li><strong>where?</strong> - describe the context (core, component, database, external service), parameters and
server information (this is required when having a distributed infrastructure)</li>
<li><strong>what?</strong> - information about the current operation</li>
<li><strong>result?</strong> - the error or a custom message containing useful information</li>
</ul>
</li>
<li>Do not log passwords, credit card information or other sensitive data.</li>
<li>Avoid doing expensive computation just for logging.</li>
<li>Make sure the log statements don&#8217;t cause exceptions.</li>
</ul>
<p>Each appender has an optional pattern property that can use different string patterns that are
automatically replaced by RAIN with the actual data. You can use this to automatically add
information about server, date and time, message priority, category.</p>
<p>The logs should be easy to read and from time to time analyzed in order to remove messages that
aren&#8217;t needed anymore.</p>
</div>
<div class="section" id="component-logging">
<h2>Component logging<a class="headerlink" href="#component-logging" title="Permalink to this headline">¶</a></h2>
<p>The appenders are modules that save the messages in different storages (console, files, databases).
The RAIN logging system lets the developer customize their behavior: you can add new appenders, set
parameters or update their logging level to better fit your needs.</p>
<p>As a third party developer you cannot change the platform logging settings, only the settings for
your component. You can add an extra file appender that writes only the <tt class="docutils literal"><span class="pre">error</span></tt> level messages in
a specific layout pattern in a specific file. The logging level is optional for each appender and
inherited from the platform if it&#8217;s not specified.</p>
<p>As a third party developer you may want to enhance the default logging settings if:</p>
<ul class="simple">
<li>You want to log the messages in a custom storage / format.</li>
<li>You want to change the logging level / layout / parameters for a specific appender.</li>
<li>You want to debug your component in production environment and change the level only for your
component.</li>
</ul>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar">
        <div class="sphinxsidebarwrapper">
  <h3><a href="../index.html">Table Of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">Logging guidelines</a><ul>
<li><a class="reference internal" href="#logging-levels">Logging levels</a><ul>
<li><a class="reference internal" href="#fatal">Fatal</a></li>
<li><a class="reference internal" href="#error">Error</a></li>
<li><a class="reference internal" href="#warn">Warn</a></li>
<li><a class="reference internal" href="#info">Info</a></li>
<li><a class="reference internal" href="#debug">Debug</a></li>
</ul>
</li>
<li><a class="reference internal" href="#what-to-log">What to log</a></li>
<li><a class="reference internal" href="#component-logging">Component logging</a></li>
</ul>
</li>
</ul>

  <h4>Previous topic</h4>
  <p class="topless"><a href="localization.html"
                        title="previous chapter">RAIN Localization</a></p>
  <h4>Next topic</h4>
  <p class="topless"><a href="sdk_architecture.html"
                        title="next chapter">RAIN SDK Architecture</a></p>
<div id="searchbox" style="display: none">
  <h3>Quick search</h3>
    <form class="search" action="../search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    <p class="searchtip" style="font-size: 90%">
    Enter search terms or a module, class or function name.
    </p>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="sdk_architecture.html" title="RAIN SDK Architecture"
             >next</a> |</li>
        <li class="right" >
          <a href="localization.html" title="RAIN Localization"
             >previous</a> |</li>
        <li><a href="../index.html">Rain 0.18.0 documentation</a> &raquo;</li> 
      </ul>
    </div>
    <div class="footer">
      Created using <a href="http://sphinx.pocoo.org/">Sphinx</a> 1.1.3.
    </div>
  </body>
</html>