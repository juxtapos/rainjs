





..
    Classes and methods

Class BaseSessionStore
================================================================================

..
   class-title


The class creates, saves and destroys sessions. It describes the methods that have to be
implemented when designing a session store in order to work with the rest of RAIN middleware.








    


Constructor
-----------

.. js:class:: BaseSessionStore(cookieConfig, [storeConfig])



    
    :param Object cookieConfig: 
        the RAIN cookie configuration 
    
    :param Object storeConfig: 
        the store configuration 
    







Methods
-------

..
   class-methods


createNewSession
''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''

.. js:function:: BaseSessionStore#createNewSession(request, fn)


    
    :param Request request: 
         
    
    :param Function fn: 
        the callback that will be called after the session was created 
    




Generates a new session id and creates an empty session associated with this id in the store.
If the session can't be created because a session with the same id already exists in the store,
it generates a new id until a valid id is generated.









    



destroy
''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''

.. js:function:: BaseSessionStore#destroy(sessionId, fn)


    
    :param String sessionId: 
        the session id 
    
    :param Function fn: 
        the callback that will be called after the session was saved 
    




Destroys the session associated with the specified session id.
This method will be invoked when a user is logging out.









    



get
''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''

.. js:function:: BaseSessionStore#get(request, fn)


    
    :param Request request: 
         
    
    :param Function fn: 
        the callback that will be called after the session is obtained 
    



    
    :returns BaseSessionStore:
        the session store 
    


Gets the session instance associated with the session id of the current request and
component id. If the specified session id doesnâ€™t exist (expired session, wrong cookie data ...)
then a new session id will be generated. The ``fn`` function is called with the err and session
objects.









    



save
''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''

.. js:function:: BaseSessionStore#save(session, fn)


    
    :param Session session: 
        the session that will be saved 
    
    :param Function fn: 
        the callback that will be called after the session was saved 
    




Saves the specified session instance. Only the keys marked as dirty are saved.









    




    



